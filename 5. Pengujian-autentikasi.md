# ðŸŸ© Dokumentasi Testing PPSK + RADIUS  
Omada Controller + FreeRADIUS + daloRADIUS

Dokumen ini menjelaskan hasil pengujian autentikasi WiFi PPSK yang sumber password-nya berasal dari RADIUS menggunakan FreeRADIUS dan daloRADIUS.

---

## âœ… 1. Client Connect SSID

<img src="https://github.com/pebririsky96/doc-simulasi-ppsk-radius-omada-tplink/blob/3b1013cc824bf0e52f2a3922aa90189bf1b67b6d/upload/Test%20client%203.jpg" width=500px>

client akses SSID `TEST_OMADA_PPSK`

## âœ… 2. Client Input Kredensial

<img src="https://github.com/pebririsky96/doc-simulasi-ppsk-radius-omada-tplink/blob/3b1013cc824bf0e52f2a3922aa90189bf1b67b6d/upload/Test%20client%202.jpg" width="500px">

kredensial yang diinputkan adalah password sesuai dengan attribute yang sudah di set pada akun client (tunnel-pussword). Dan pada menu Privacy dipilih `Use device MAC` untuk mengirimkan MAC address perangkat, bukan MAC acak.

## âœ… 3. FreeRADIUS â€” Access Request Diterima

Saat perangkat mencoba koneksi, Omada AP mengirim:

<img src="https://github.com/pebririsky96/doc-simulasi-ppsk-radius-omada-tplink/blob/0b6ba54163a439b3b535b3fc07b3e18e9864d223/upload/test-omada-freeradius-log-1.png" width=500px >

**Access-Request** berisi:

- User-Name = "24:D3:37:81:F9:EC"
- NAS-IP-Address = 10.10.0.73
- Calling-Station-Id = "24-D3-37-81-F9-EC"
- Called-Station-Id = "14-EB-B6-5C-3A-FA:TEST_OMADA_PPSK"
- User-Password = "24:D3:37:81:F9:EC"
- Service-Type = Login-User

> âœ” Menandakan Omada mengirim autentikasi MAC + PPSK menuju RADIUS.

---

## âœ… 4. FreeRADIUS â€” Query ke Database daloRADIUS

<img src="https://github.com/pebririsky96/doc-simulasi-ppsk-radius-omada-tplink/blob/0b6ba54163a439b3b535b3fc07b3e18e9864d223/upload/test-omada-freeradius-log-2.png" width=700px>

FreeRADIUS mengambil data user dari:

- `radcheck`
- `radreply`

### Data user ditemukan:

**radcheck:**

| Attribute           | Value                   |
|---------------------|--------------------------|
| Cleartext-Password  | 24:D3:37:81:F9:EC        |

**radreply:**

| Attribute        | Value       |
|------------------|-------------|
| Tunnel-Password  | 12345678    |

> âœ” Menandakan user ditemukan dan PPSK ditemukan pada radreply.

---

## âœ… 5. FreeRADIUS â€” Response Access-Accept

<img src="https://github.com/pebririsky96/doc-simulasi-ppsk-radius-omada-tplink/blob/0b6ba54163a439b3b535b3fc07b3e18e9864d223/upload/test-omada-freeradius-log-3.png" width=600px >

Jika user valid, FreeRADIUS mengirimkan:

Sent Access-Accept
Tunnel-Password = "12345678"


> âœ” Omada menerima PPSK dari RADIUS.

---

## âœ… 6. Hasil Akhir: Perangkat Berhasil Terhubung



Perangkat sukses mendapatkan:

- IP Address: `10.10.0.237`
- Status: `CONNECTED`
- SSID: `TEST_OMADA_PPSK`
- Authentication: Sukses via PPSK dari RADIUS

---

## âœ… 7. daloRADIUS â€” Data Accounting

**Path:**  
`Accounting â†’ All Users Accounting`

### Data yang tercatat:

| Kolom      | Nilai                    |
|------------|---------------------------|
| Username   | 24:D3:37:81:F9:EC         |
| IP Address | 10.10.0.237               |
| Start Time | 2025-11-20 08:46:11       |
| Stop Time  | - (sedang Online)         |
| NAS IP     | 10.10.0.73                |

> âœ” Accounting berjalan sukses.

---

# âœ… 8. Status Client Pada Omada Controller

**Path:**  
`Omada Controller â†’ Clients â†’ Online`

### Hasil:
- 1 perangkat terhubung  
- Client Name: `Redmi-Pad-SE`  
- IP Address: `10.10.0.237`  
- SSID: `TEST_OMADA_PPSK`  
- Status: `CONNECTED`  
- AP: `14-EB-B6-5C-3A-FA`  

---

# âœ… 7. Detail Informasi Klien

Saat klik client:

### Informasi yang muncul:
- SSID: `TEST_OMADA_PPSK`
- Signal: `-55 dBm`
- Band: `5 GHz`
- Channel: `36`
- SNR: `40 dB`
- MAC Address: `24:D3:37:81:F9:EC`
- IP Address: `10.10.0.237`
- VLAN: `Untag`
- Uptime: `1m 31s`

<img src="https://github.com/pebririsky96/doc-simulasi-ppsk-radius-omada-tplink/blob/0b6ba54163a439b3b535b3fc07b3e18e9864d223/upload/test-omada-controller-client-2.png" width=200px >

---

# ðŸŸ¦ Ringkasan Hasil Testing

| Komponen                | Status | Keterangan |
|------------------------|--------|------------|
| AP â†’ FreeRADIUS        | âœ” OK   | Request masuk |
| Query SQL RADIUS       | âœ” OK   | User ditemukan |
| Response RADIUS        | âœ” OK   | Access-Accept terkirim |
| PPSK via RADIUS        | âœ” OK   | Tunnel-Password dikirim |
| Client Connection      | âœ” OK   | IP & koneksi sukses |
| daloRADIUS Accounting  | âœ” OK   | Log masuk |
| Omada Controller       | âœ” OK   | Device muncul sebagai Connected |

---

# ðŸŸ© Kesimpulan

Testing menunjukkan bahwa:

- PPSK **berhasil disinkronisasi melalui RADIUS**
- Omada AP **mengambil Tunnel-Password dari FreeRADIUS**
- User **MAC-based authentication** berjalan lancar
- Accounting tercatat sempurna di daloRADIUS

---


